(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{272:function(e,t,a){e.exports=a(602)},277:function(e,t,a){},278:function(e,t,a){},602:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),i=a.n(r),o=(a(277),a(263)),l=a(129),c=a(258),u=a(259),m=a(264),f=a(262),x=(a(278),a(637)),v=a(260),d=a.n(v),h=(a(585),Object(x.a)((function(e){return{formControl:{paddingBottom:120}}})));function p(e){var t=h();return s.a.createElement("div",{className:t.formControl},s.a.createElement(d.a,{option:{grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{},series:[{type:"scatter3D",symbolSize:15,data:e.axises.axises,color:"black"},{type:"scatter3D",symbolSize:15,data:[e.myAxis],color:"red"}]}}))}var _=Object(x.a)((function(e){return{text:{fontSize:"25px"}}}));function w(e){var t=_();return s.a.createElement("div",null,s.a.createElement("p",{className:t.text},JSON.stringify(e.axis)))}var g=a(68),E=a(647),b=a(648),O=a(640),y=a(643),A=Object(x.a)((function(e){return{formControl:{minWidth:120}}}));function j(e){var t=A(),a=s.a.useState(""),n=Object(g.a)(a,2),r=n[0],i=n[1],o=e.index,l=s.a.useState(!1),c=Object(g.a)(l,2),u=c[0],m=c[1];return s.a.createElement("div",null,s.a.createElement("h4",null,e.title),s.a.createElement(O.a,{className:t.formControl},s.a.createElement(E.a,{id:"controlled-open-select-label"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"),s.a.createElement(y.a,{labelId:"controlled-open-select-label",id:"select"+o,open:u,onClose:function(e){m(!1)},onOpen:function(e){m(!0)},value:r,onChange:function(t){i(t.target.value),e.returnAnswer(t.target.value,o)}},s.a.createElement(b.a,{value:""},s.a.createElement("em",null,"None")),e.answers.map((function(e,t){return s.a.createElement(b.a,{key:t,value:e},e)})))))}var S=a(645),k=a(649),N=a(650);function C(e){var t=s.a.useState(""),a=Object(g.a)(t,2),n=a[0],r=a[1],i=e.index;return s.a.createElement("div",null,s.a.createElement("h4",null,e.title),s.a.createElement(O.a,{const:"fieldset"},s.a.createElement(k.a,{"aria-label":e.title,name:e.title,value:n,onChange:function(t){r(t.target.value),e.returnAnswer(t.target.value,i)}},e.answers.map((function(e,t){return s.a.createElement(N.a,{key:t,value:e,control:s.a.createElement(S.a,null),label:e})})))))}var D=a(646),q=a(642);function J(e){var t=s.a.useState(!1),a=Object(g.a)(t,2),n=a[0],r=a[1],i=e.index;return s.a.createElement(q.a,null,s.a.createElement(N.a,{control:s.a.createElement(D.a,{checked:n,onChange:function(t){r(t.target.checked),e.returnAxisName(t.target.checked,i)},key:e.key,value:e.name}),label:e.title}))}a(603);var T=a(587),z=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={questions:[],main_title:"",gateway:"",answers:{},axises:{},total_axis:[],axis_title_values:[],axis_values:[],position:{},axis:[],axis_title:[],axises_object:[],axis_names:{},all_axis:{},answer_title_values:[],answer_values:[],count_axises:[],compass_compare:{},default_axises:[],showAnswers:!1},e.downloadData=function(){var t=T.parse(window.location.search,{decode:!1});console.log(t),fetch("https://raw.githubusercontent.com/Kabirov7/kloop-forms-test/master/config.json").then((function(e){return console.log("RESPONSE",e),e.json()})).then((function(t){console.log("DATA",t),e.setState({questions:t.questions,main_title:t.main_title,gateway:t.gateway,compass_compare:t.compass_compare,axis:t.axises,axis_title:t.axis_title,axis_title_values:t.axis_title_values,axis_values:t.axis_values,answer_title_values:t.answer_title_values,answer_values:t.answer_values,axises_object:t.axises_object})}))},e.uploadData=function(t){fetch(e.state.gateway,{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(t){console.log("Error",t),e.setState({showAnswers:!0})}))},e.returnAnswer=function(t,a){var n=Object(l.a)({},e.state.answers);n[a]=t,e.setState({answers:n})},e.returnAxisName=function(t,a){var n=Object(l.a)({},e.state.axis_names);n[a]=t,e.setState({axis_names:n})},e.getAxisTemplate=function(e){var t,a,n,s,r=[],i=Object.entries(e.axis_names).map((function(s,i,o){if(t=s[1],a=s[0],n=e.axises_object[a],t)return r.push(n),n}));i=(i=i.filter((function(e){return void 0!==e}))).reverse();for(var o=0;o<i.length+1;o++)o!=i.length&&(s=Object.assign({},i[o],i[o+1],s));return s},e.returnAxis=function(t){var a=Object(l.a)({},e.state.axises);a=t,e.setState({axises:a})},e.getAxis=function(t){var a,n,s=Object.entries(t.answers),r=[],i={},l=s.map((function(e,s,i){a=e[1],n=e[0];var o=t.questions[n].answer,l=t.answer_title_values.indexOf(o),c=t.answer_values[l].indexOf(a),u=t.questions[n].axis,m=t.axis_title_values.indexOf(u),f=t.axis_values[m][c];return r.push(Object.keys(f)[0]),f}));r=r.sort(),Object(o.a)(new Set(r)).forEach((function(e,t){var a=r.lastIndexOf(e)+1-r.indexOf(e);i[e]=a})),e.returnAxis(l),e.getAxisAverage(l,i)},e.getAxisAverage=function(t,a){var n=e.getAxisTemplate(e.state);Object.values(t).forEach((function(e){Object.keys(e).forEach((function(t){void 0!==n[t]&&(n[t]+=e[t])}))})),Object.keys(n).forEach((function(e){void 0!==a[e]&&(n[e]=n[e]/a[e])})),Object.values(n),e.distanceEuclid(n)},e.distanceEuclid=function(t){for(var n,s=1/0,r=[],i=a(600),o={distance:1/0,title:1/0},l=Object.keys(t),c=Object.values(t),u=[],m=[];m.length<e.state.compass_compare.axises.length;)m.push([]);l.forEach((function(t,a){r[a]=c[a],u[a]=e.state.axis.indexOf(t)})),e.state.compass_compare.axises.map((function(e,t){for(var a=[];a.length<u.length;)a.push(0);u.forEach((function(t,n){a[n]=e[t]})),m[t]=a})),e.setState({total_axis:r}),r.length!=[0].length&&m.forEach((function(t,a,l){(n=i(r,t))<s&&(o={distance:s=n,title:e.state.compass_compare.position[a]}),e.setState({position:o})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.downloadData()}},{key:"render",value:function(){var e=this,t=this.state.questions.map((function(t,a){if("selecadt"===t.type){var n=t.answer,r=e.state.answer_title_values.indexOf(n),i=e.state.answer_values[r];return s.a.createElement(j,{key:a,index:a,title:t.title,answers:i,returnAnswer:e.returnAnswer})}if("select"===t.type){var o=t.answer,l=e.state.answer_title_values.indexOf(o),c=e.state.answer_values[l];return s.a.createElement(C,{key:a,index:a,title:t.title,answers:c,returnAnswer:e.returnAnswer})}})),a=this.state.axis.map((function(t,a){return s.a.createElement(J,{key:a,index:a,name:t,title:e.state.axis_title[a],returnAxisName:e.returnAxisName})}));return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"text-align-center"},JSON.stringify(this.state.total_axis)),this.state.showAnswers?s.a.createElement("p",null,JSON.stringify(this.state.answers)):null,s.a.createElement("button",{onClick:function(){return e.uploadData({a:"HELLo"})}},"Send data"),s.a.createElement("button",{onClick:function(){return e.getAxis(e.state)}},"Show state"),a,t,s.a.createElement(w,{axis:this.state.axises}),function(){if(e.state.axises!={})return s.a.createElement(p,{myAxis:e.state.total_axis,axises:e.state.compass_compare})}(),s.a.createElement("button",{onClick:function(){return e.getAxis(e.state)}},"Show state"))}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.994162b7.chunk.js.map