(this.webpackJsonpquestionnaire=this.webpackJsonpquestionnaire||[]).push([[0],{266:function(e,t,a){e.exports=a(596)},271:function(e,t,a){},272:function(e,t,a){},596:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(18),r=a.n(o),i=(a(271),a(258)),c=a(125),l=a(253),u=a(254),m=a(259),f=a(257),x=(a(272),a(630)),p=a(255),h=a.n(p),d=(a(579),Object(x.a)((function(e){return{formControl:{paddingBottom:120}}})));function g(e){var t=d();return s.a.createElement("div",{className:t.formControl},s.a.createElement(h.a,{option:{grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{},series:[{type:"scatter3D",symbolSize:15,data:[e.myAxis],color:"red"}]}}))}var v=Object(x.a)((function(e){return{text:{fontSize:"25px"}}}));function w(e){var t=v();return s.a.createElement("div",null,s.a.createElement("p",{className:t.text},JSON.stringify(e.axis)))}var E=a(100),b=a(639),O=a(640),y=a(633),_=a(636),j=Object(x.a)((function(e){return{formControl:{minWidth:120}}}));function A(e){var t=j(),a=s.a.useState(""),n=Object(E.a)(a,2),o=n[0],r=n[1],i=e.index,c=s.a.useState(!1),l=Object(E.a)(c,2),u=l[0],m=l[1];return s.a.createElement("div",null,s.a.createElement("h4",null,e.title),s.a.createElement(y.a,{className:t.formControl},s.a.createElement(b.a,{id:"controlled-open-select-label"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"),s.a.createElement(_.a,{labelId:"controlled-open-select-label",id:"select"+i,open:u,onClose:function(e){m(!1)},onOpen:function(e){m(!0)},value:o,onChange:function(t){r(t.target.value),e.returnAnswer(t.target.value,i)}},s.a.createElement(O.a,{value:""},s.a.createElement("em",null,"None")),e.answers.map((function(e,t){return s.a.createElement(O.a,{key:t,value:e},e)})))))}var S=a(637),k=a(641),N=a(635);function C(e){var t=s.a.useState(!1),a=Object(E.a)(t,2),n=a[0],o=a[1],r=e.index;return s.a.createElement(N.a,null,s.a.createElement(k.a,{control:s.a.createElement(S.a,{checked:n,onChange:function(t){o(t.target.checked),e.returnAxisName(t.target.checked,r)},key:e.key,value:e.title}),label:e.title}))}var D=a(581),q=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={questions:[],main_title:"",axis_template:{},gateway:"",answers:{},axises:{},total_axis:[],position:{},axis:[],axises_object:[],axis_names:{},all_axis:{},count_axises:[],compass_compare:{},showAnswers:!1},e.downloadData=function(){var t=D.parse(window.location.search,{decode:!1});console.log(t),fetch("https://raw.githubusercontent.com/Kabirov7/kloop-forms-test/master/config_A.json").then((function(e){return console.log("RESPONSE",e),e.json()})).then((function(t){console.log("DATA",t),e.setState({questions:t.questions,axis_template:t.axis_template,main_title:t.main_title,gateway:t.gateway,compass_compare:t.compass_compare,axis:t.axises,axises_object:t.axises_object})}))},e.uploadData=function(t){fetch(e.state.gateway,{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(t){console.log("Error",t),e.setState({showAnswers:!0})}))},e.returnAnswer=function(t,a){var n=Object(c.a)({},e.state.answers);n[a]=t,e.setState({answers:n})},e.returnAxisName=function(t,a){var n=Object(c.a)({},e.state.axis_names);n[a]=t,e.setState({axis_names:n})},e.getAxisTemplate=function(t){var a,n,s,o,r=[],i=Object.entries(t.axis_names).map((function(e,o,i){if(a=e[1],n=e[0],s=t.axises_object[n],a)return r.push(s),s}));i=(i=i.filter((function(e){return void 0!==e}))).reverse();for(var c=0;c<i.length+1;c++)c!=i.length&&(o=Object.assign({},i[c],i[c+1],o));e.setState({all_axis:o})},e.returnAxis=function(t){var a=Object(c.a)({},e.state.axises);a=t,e.setState({axises:a})},e.getAxis=function(t){var a,n,s,o,r=Object.entries(t.answers),c=[],l=[],u=r.map((function(e,r,i){return a=e[1],n=e[0],t.questions[n].title,s=t.questions[n].answer.indexOf(a),o=t.questions[n].axis[s],c.push(Object.keys(o)[0]),o}));Object(i.a)(new Set(c)).forEach((function(e,t){var a=c.lastIndexOf(e)-c.indexOf(e);l.push(a)})),e.returnAxis(u),e.getAxisSum(u,l)},e.getAxisSum=function(t,a){var n,s=e.state.axis_template;Object.values(t).forEach((function(e){Object.keys(e).forEach((function(t){s[t]+=e[t]}))})),n=Object.values(s),console.log(n);for(var o=0;o<n.length;o++)n[o]=n[o]/a[o];console.log(n),e.distanceEuclid(n)},e.distanceEuclid=function(t){for(var n,s=1/0,o=a(594),r={distance:1/0,title:1/0};t.length<3;)t.push(0);e.setState({total_axis:t}),t.length!=[0].length&&e.state.compass_compare.axises.forEach((function(a,i,c){(n=o(t,a))<s&&(r={distance:s=n,title:e.state.compass_compare.position[i]}),e.setState({position:r})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.downloadData()}},{key:"render",value:function(){var e=this,t=this.state.questions.map((function(t,a){if("select"===t.type)return s.a.createElement(A,{key:a,index:a,title:t.title,answers:t.answer,returnAnswer:e.returnAnswer})})),a=this.state.axis.map((function(t,a){return s.a.createElement(C,{key:a,index:a,title:t,returnAxisName:e.returnAxisName})}));return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"text-align-center"},JSON.stringify(this.state.axis_template)),this.state.showAnswers?s.a.createElement("p",null,JSON.stringify(this.state.answers)):null,s.a.createElement("button",{onClick:function(){return e.uploadData({a:"HELLo"})}},"Send data"),s.a.createElement("button",{onClick:function(){return e.getAxis(e.state)}},"Show state"),s.a.createElement("button",{onClick:function(){return e.getAxisTemplate(e.state)}},"axis_names"),t,s.a.createElement(w,{axis:this.state.axises}),a,function(){if(e.state.axises!={})return s.a.createElement(g,{myAxis:e.state.total_axis,axises:e.state.compass_compare})}(),s.a.createElement("h4",null,JSON.stringify(this.state.position)))}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[266,1,2]]]);
//# sourceMappingURL=main.d983614f.chunk.js.map